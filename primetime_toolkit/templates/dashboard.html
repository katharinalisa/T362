{% extends 'layout.html' %} {% block content %}

<style>
  .dashboard-chart {
    box-shadow: 0 8px 32px rgba(34, 60, 80, 0.18);
    transition: box-shadow 0.2s, transform 0.2s;
    border-radius: 30px;
    border: none;
    background: #fff;
  }
  .dashboard-chart:hover {
    box-shadow: 0 16px 48px rgba(34, 60, 80, 0.32);
    transform: translateY(-8px) scale(1.04);
    z-index: 2;
  }

  @keyframes fadeInSlow {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .fade-in-slow {
    animation: fadeInSlow 1.8s ease-out forwards;
    animation-delay: 1s;
  }

  .option-card {
    background: linear-gradient(100deg, #eaf1fe 0%, #e6fcfa 100%);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
  }

  .option-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.08);
  }

  .btn-start {
    background-color: #009687;
    color: #fff;
    border: none;
    transition: background-color 0.3s ease;
    text-decoration: none;
  }

  .btn-start:hover {
    background-color: #007f73; /* darker shade for hover */
    color: #fff;
  }
</style>

<section
  class="hero-section text-center py-4"
  style="width: 100vw; margin-left: calc(-50vw + 50%); margin-top: -28px">
  <div class="container"><br>
    <h1
      class="display-1 section-title mb-2"
      style="font-size: 3rem; font-weight: 800; text-align: center; letter-spacing: -0.6px;"
    >
      Choose how you would like to proceed
    </h1>


  <div class="container my-5">
    <div class="row justify-content-center align-items-stretch g-4">

    <!-- Download Spreadsheet -->
    <div class="col-md-5 col-lg-4 d-flex">
      <div class="card option-card compact-card text-center w-100">
        <div class="card-body d-flex flex-column justify-content-between">
          <div>
            <span class="fs-2 text-primary"><i class="bi bi-file-earmark-arrow-down"></i></span>
            <h6 class="fw-bold mt-3">Excel Spreadsheet Calculators</h6>
            <p class="small text-muted">Receive our Excel spreadsheet over Email, fill it out offline, and upload it in the below section.</p>
          </div>
          <form id="spreadsheetForm" action="{{ url_for('views.send_email') }}" method="POST">
            <input type="email" name="email" class="form-control mb-2 rounded-pill" placeholder="Your email" required>
            <button type="submit" class="btn btn-start rounded-pill px-4 mt-2" style="width:310px;">Send Spreadsheet</button>
            <div id="loadingSpinner" style="display:none; margin-top:10px;">
              <div class="spinner-border text-info" role="status">
                <span class="visually-hidden">Sending...</span>
              </div>
              <span class="ms-2">Sending...</span>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Web Calculator -->
    <div class="col-md-5 col-lg-4 d-flex">
      <div class="card option-card compact-card text-center w-100">
        <div class="card-body d-flex flex-column justify-content-between">
          <div>
            <span class="fs-2 text-success"><i class="bi bi-calculator"></i></span>
            <h6 class="fw-bold mt-3">Web Calculators</h6>
            <p class="small text-muted">This is an online tool which saves your progress as you go. Step through each calculator directly from this website.</p>
          </div>
          <a href="{{ url_for('views.tracker') }}" class="btn btn-start rounded-pill px-4 mt-2" style="text-decoration: none;">Start Online Calculators</a>
        </div>
      </div>
    </div>
  </div>
</div>


<div class="container my-5">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="card upload-highlight shadow-lg border-0 rounded-4 p-4 text-center">
        <div class="card-body d-flex flex-column align-items-center">
          <span class="fs-1 text-brand mb-3"><i class="bi bi-upload"></i></span>
          <h4 class="fw-bold mb-2">Have you completed your spreadsheet?</h4>
          <p class="text-muted mb-4" style="max-width: 500px;">
            If you have completed your spreadsheet, upload it here to unlock your personalized dashboard and insights.
          </p>
          <form action="{{ url_for('views.upload_excel') }}" method="POST" enctype="multipart/form-data" style="width: 100%; max-width: 500px;">
            <input type="file" name="budget_file" id="budget_file" class="form-control mb-3 rounded-pill" accept=".xlsx,.xls" required />
            <button type="submit" id="uploadBtn" class="btn btn-brand rounded-pill px-4 py-2 w-100" disabled>
              Upload Spreadsheet
            </button>
          </form>
        </div>
      </div>
    </div>
  </div>
</div><br><br>


<script>
document.addEventListener('DOMContentLoaded', function() {
  const fileInput = document.getElementById('budget_file');
  const uploadBtn = document.getElementById('uploadBtn');
  fileInput.addEventListener('change', function() {
    if (fileInput.files.length > 0) {
      uploadBtn.disabled = false;
      uploadBtn.classList.remove('btn-outline-primary');
      uploadBtn.classList.add('btn-success');
    } else {
      uploadBtn.disabled = true;
      uploadBtn.classList.remove('btn-success');
      uploadBtn.classList.add('btn-outline-primary');
    }
  });
});
</script>
</section><br><br><br>
{% endblock %}