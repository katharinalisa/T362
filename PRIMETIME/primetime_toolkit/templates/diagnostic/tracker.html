{% extends 'layout.html' %}
{% block content %}
<!-- === SUMMARY TAB (what each function does) === -->
<div id="Summary" class="tabcontent">
  <h2>Budget Summary & How Each Section Works</h2>

<!-- Better KPI header -->
<div class="kpis">
  <div class="kpi">
    <div class="kpi-label">Net Worth</div>
    <div class="kpi-value {{ 'placeholder' if not (total_assets is defined and total_liabilities is defined) }}">
      {% if total_assets is defined and total_liabilities is defined %}
        {{ '{:,.0f}'.format(total_assets - total_liabilities) }}
      {% else %}—{% endif %}
    </div>
    <div class="kpi-sub">Assets − Liabilities</div>
  </div>

  <div class="kpi">
    <div class="kpi-label">Monthly Savings</div>
    <div class="kpi-value {{ 'placeholder' if not (monthly_income is defined and monthly_expenses is defined) }}">
      {% if monthly_income is defined and monthly_expenses is defined %}
        {{ '{:,.0f}'.format(monthly_income - monthly_expenses) }}
      {% else %}—{% endif %}
    </div>
    <div class="kpi-sub">Income − Expenses</div>
  </div>

  <div class="kpi">
    <div class="kpi-label">Savings Rate</div>
    <div class="kpi-value {{ 'placeholder' if not (monthly_income is defined and monthly_expenses is defined and monthly_income) }}">
      {% if monthly_income is defined and monthly_expenses is defined and monthly_income %}
        {{ (((monthly_income - monthly_expenses) / monthly_income) * 100) | round(1) }}%
      {% else %}—{% endif %}
    </div>
    <div class="kpi-sub">Savings ÷ Income</div>
  </div>
</div>

  <div class="summary-grid">
    <div class="card">
      <h3>Assets</h3>
      <p>What you own (cash, bank accounts, investments, car, property, etc.). Helps build your <strong>Net Worth</strong>.</p>
      <p class="formula"><strong>Used in:</strong> Net Worth = Assets − Liabilities</p>
      <a href="{{ url_for('views.assets') }}" class="goto">Go to Assets →</a>
    </div>


  <div class="card">
    <h3>Liabilities</h3>
    <p>What you owe (credit cards, loans, HECS/HELP, mortgage). Reducing liabilities increases <strong>Net Worth</strong>.</p>
    <p class="formula"><strong>Used in:</strong> Net Worth = Assets − Liabilities</p>
    <a href="{{ url_for('views.liabilities') }}" class="goto">Go to Liabilities →</a>
  </div>

      
  <div class="card">
    <h3>Income</h3>
    <p>Money coming in (salary, scholarship, side gigs). Drives your <strong>cash flow</strong> for budgeting.</p>
    <p class="formula"><strong>Used in:</strong> Monthly Savings = Income − Expenses</p>
    <a href="{{ url_for('views.income') }}" class="goto">Go to Income →</a>
  </div>

  <div class="card">
    <h3>Expenses</h3>
    <p>Money going out (rent, groceries, transport, subscriptions). Controlling expenses improves <strong>cash flow</strong>.</p>
    <p class="formula"><strong>Used in:</strong> Monthly Savings = Income − Expenses</p>
    <a href="{{ url_for('views.expenses') }}" class="goto">Go to Expenses →</a>
  </div>


<div class="card">
  <h3>Net Worth</h3>
  <p>Your overall financial position at a point in time. Tracks long-term progress—not month-to-month swings.</p>
  <p class="formula"><strong>Formula:</strong> Net Worth = Assets − Liabilities</p>
  <a href="#" class="goto">Go to Net Worth →</a>
</div>

<div class="tips">
  <h4>Quick Budget Tips</h4>
  <ul>
    <li>Target a positive <strong>Monthly Savings</strong> and a rising <strong>Net Worth</strong>.</li>
    <li>Automate transfers to savings/investments right after payday.</li>
    <li>Review subscriptions quarterly; renegotiate bills yearly.</li>
    <li>Use categories in Expenses to find quick wins (e.g., food, transport).</li>
  </ul>
</div>
</div>

{% endblock %}